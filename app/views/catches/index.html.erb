<div class="tab_general">
  <ul class="nav mb-3" id="pills-tab" role="tablist">
    <li class="nav-item active">
      <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#catches-map" role="tab" aria-controls="pills-profile" aria-selected="false">Map</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-home-tab" data-toggle="pill" href="#catches-list" role="tab" aria-controls="pills-home" aria-selected="true">List</a>
    </li>
  </ul>
</div>


<div class="tab-content" id="tab_content_list">
  <div class="tab-pane" id="catches-list" role="tabpanel" aria-labelledby="pills-home-tab">
    <%= render collection: @catches, partial: "catches/catch" %>
  </div>

  <div class="tab-pane active" id="catches-map" role="tabpanel" aria-labelledby="pills-profile-tab" style="min-height: 100vh;">
  </div>
</div>


<div id="map"  style="width: 100%; height: 600px; " data-markers="<%= @markers.to_json %>"></div>

<% content_for :after_js do  %>
  <script>
    $(function(){
      $('#map').appendTo('#catches-map');
    });
  </script>
<% end %>
